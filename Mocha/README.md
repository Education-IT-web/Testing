#            Mocha
#### В этом проекте описаны базовые понятия по тестированию с использованием фреймворка Mocha
<hr>
<br>

![Image alt](https://github.com/Education-IT-web/Testing/blob/master/Mocha/Start%20testing/logo.png)

<br>

### 1. Подготавливаем среду разработки. 

    Для начала необходимо определиться где будет выполняться тестирование - 
        * на стороне клиента
        * на стороне сервера
   
    Сторона клиента:




    Сторона сервера:

    1. В папке проекта выполняем команду "npm init", или создаем файл package.json и добавляем в него:
    
        {
          "name": "testapp",
          "version": "1.0.0"
        }
    
    2. После того как файл создан, необходимо добавить фреймворк mocha в проект. Выполняем команду:
        
        npm install mocha --save-dev // флаг --save-dev позволяет добавить пакет в список зависимостей выполняющихся на этапе разработки. 
        
     В дальнейшем файл package.json может иметь такой вид:
     
        {
            "name": "test", // название проекта
            "version": "1.0.0", // актуальная версия
            "description": "mocha first test project", // Описание проекта
            "main": "index.html", // точка входа в приложение
            "scripts": { // список скриптов запускаемых по команде
                "test": "mocha *.test.js" // по команде "test" запускается фреймворк mocha, который прогоняет все файлы оканчивающиеся на ".test.js"
            },
            "author": "Oleg Kochiev", // автор данного файла
            "license": "ISC", 
            "devDependencies": { // расширения которые не будут добавлены в продакшн, которые нужны только в процессе разработки
                "mocha": "^8.1.3"
            }
        }

    
    
###  2. Пишем тесты и сам проект. 
<hr>

   При написании тестов очень важно соблюдать алгоритм написания тестов!!!

##### Алгоритм написания тестов:


    1. Пишется начальная спецификация с тестами, проверяющими основную функциональность(пишем описание тестов, а потом сами тесты).

    2. Создается начальная реализация(пишем непосредственно код программы, функции, классы методы и т.д.).

    3. Для запуска тестов используется фреймворк Mocha. Пока функция не готова будут ошибки. Вносим изменения до тех пор, 
    пока все не начнет работать так, как нам нужно(корректируем написанный нами код программы).

    4. Теперь у нас есть правильно работающая реализация и тесты.

    5. Добавляем новые способы использования в спецификацию, возможно, еще не реализованные в тестируемом коде. Тесты начинают 
    падать(обновляем описание тестов, и сами тесты).

    6. Возвращаемся на Шаг 3, дописываем реализацию до тех пор, пока тесты не начнут завершаться без ошибок.

    7. Повторяем шаги 3 - 6, пока требуемая функциональность не будет готова.
<hr>  

   1. Первым делом создаем файл  с именем "<file_name>.test.js", в который будем писать тесты под конкретный файл.
   
   2. Пишем тесты под функицю, или класс который будут храниться в файле "<file_name>.js". Например:
```js
      
      let calc = require('./calc'); // подключаем файл "calc.js".
      describe("сумма", function () { // describe - позволяет группировать тесты по функциям или классам.
          it("сложение чисел a и b", function () { // блок it нужен для написания множества тестов для одной функции или класса.
              let result = calc.sum(1, 2);
              let expectedResult = 3;
              if (result !== expectedResult) {
                  throw new Error(`Expected ${expectedResult}, but got ${result}`)
              }
          });
          it("сложение чисел a и b", function () {
              let result = calc.sum(0, 0);
              let expectedResult = 0;
              if (result !== expectedResult) {
                  throw new Error(`Expected ${expectedResult}, but got ${result}`)
              }
          });
      });
      
```
<br><br>

   3. Создаем файл "<file_name>.js" и пишем в него функцию или класс, под который написали тесты. Например:
```js
   
      module.exports.sum = function (a, b) { // команда module.exports позволяет экспортировать указанную функцию
          return a + b;
      }
      module.exports.diff = function (a, b) {
          return a - b;
      }
      module.exports.mult = function (a, b) {
          return a * b;
      }
      module.exports.div = function (a, b) {
          return a / b;
      }

```
   4. Запускаем тестирование командой "npm test" и пр успешном прохождении тестов увидим на экране такое сообщение:


![Image alt](https://github.com/Education-IT-web/Testing/blob/master/Mocha/success_test.png)
